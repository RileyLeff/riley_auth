# v6 Workflow State

**Current Phase:** 1 â€” Remove Avatar Storage (IN PROGRESS)
**Current Step:** 1.1 Remove StorageConfig from config.rs
**Status:** Starting v6 implementation.

## Progress

| Phase | Step | Description | Status |
|-------|------|-------------|--------|
| 1 | 1.1 | Remove StorageConfig from config.rs | In Progress |
| 1 | 1.2 | Remove update_user_avatar from db/users.rs | Pending |
| 1 | 1.3 | Remove [storage] from example config | Pending |
| 1 | 1.4 | Run tests | Pending |
| 2 | 2.1 | Replace DEFAULT uuidv7() in migrations | Pending |
| 2 | 2.2 | Add explicit UUIDv7 to all INSERTs | Pending |
| 2.3 | | Update test infrastructure | Pending |
| 2 | 2.4 | Run full test suite | Pending |
| 3 | 3.1 | Change CORS behavior | Pending |
| 3 | 3.2 | Change cookie prefix default | Pending |
| 3 | 3.3 | Make issuer required | Pending |
| 3 | 3.4 | Update example config | Pending |
| 3 | 3.5 | Update test infrastructure | Pending |
| 3 | 3.6 | Run tests | Pending |
| 1-3 | review | Standard review (phases 1-3 grouped) | Pending |
| 4 | 4.1 | Define new config structs | Pending |
| 4 | 4.2 | Built-in presets (Google, GitHub) | Pending |
| 4 | 4.3 | Provider resolution + OIDC discovery | Pending |
| 4 | 4.4 | Generic profile parsing | Pending |
| 4 | 4.5 | Refactor oauth.rs | Pending |
| 4 | 4.6 | Refactor auth routes | Pending |
| 4 | 4.7 | Update AppState + server startup | Pending |
| 4 | 4.8 | Update example config | Pending |
| 4 | 4.9 | Unit tests | Pending |
| 4 | 4.10 | Integration tests | Pending |
| 4 | review | Exhaustive review | Pending |
| 5 | 5.1 | Add utoipa dependencies | Pending |
| 5 | 5.2 | ToSchema derives | Pending |
| 5 | 5.3 | utoipa::path annotations | Pending |
| 5 | 5.4 | ApiDoc + /openapi.json endpoint | Pending |
| 5 | 5.5 | Verify spec | Pending |
| 5 | review | Standard review | Pending |
| 6 | 6.1 | README.md | Pending |
| 6 | 6.2 | Deployment guide | Pending |
| 6 | 6.3 | Production docker-compose | Pending |
| 6 | 6.4 | Dockerfile improvements | Pending |
| 6 | 6.5 | Example config final pass | Pending |
| 6 | review | Review for accuracy | Pending |

## Blockers

None.

## Recent Activity

- v6 workflow started
